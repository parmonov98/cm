{"ast":null,"code":"import _regeneratorRuntime from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _toConsumableArray from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/dev/Documents/lessons/react - brad traversy/section7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component}from'react';// import context from 'react-bootstrap/esm/AccordionContext';\nimport axios from\"axios\";var Context=React.createContext();var reducer=function reducer(state,action){switch(action.type){case'DELETE_CONTACT':console.log('delete action is called');return _objectSpread(_objectSpread({},state),{},{contacts:state.contacts.filter(function(contact){return contact.id!==action.PAYLOAD;})});break;case'ADD_CONTACT':console.log('add action is called');return _objectSpread(_objectSpread({},state),{},{contacts:[action.PAYLOAD].concat(_toConsumableArray(state.contacts))});case'UPDATE_CONTACT':console.log('edit action is called');return _objectSpread(_objectSpread({},state),{},{contacts:state.contacts.map(function(contact){return contact.id===action.payload.id?contact=action.payload:contact=contact;})});break;default:break;}};export var Provider=/*#__PURE__*/function(_Component){_inherits(Provider,_Component);var _super=_createSuper(Provider);function Provider(){var _this;_classCallCheck(this,Provider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],dispatch:function dispatch(action){return _this.setState(function(state){return reducer(state,action);});}};return _this;}_createClass(Provider,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://jsonplaceholder.typicode.com/users');case 2:response=_context.sent;this.setState({contacts:response.data});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Context.Provider,{value:this.state},this.props.children);}}]);return Provider;}(Component);export var Consumer=Context.Consumer;","map":{"version":3,"sources":["/home/dev/Documents/lessons/react - brad traversy/section7/src/context.js"],"names":["React","Component","axios","Context","createContext","reducer","state","action","type","console","log","contacts","filter","contact","id","PAYLOAD","map","payload","Provider","dispatch","setState","get","response","data","props","children","Consumer"],"mappings":"43CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,OAAO,CAAGH,KAAK,CAACI,aAAN,EAAhB,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,gBAAL,CACEC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACA,sCACKJ,KADL,MAEEK,QAAQ,CAAEL,KAAK,CAACK,QAAN,CAAeC,MAAf,CAAsB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,EAAR,GAAeP,MAAM,CAACQ,OAA1B,EAA7B,CAFZ,GAIA,MACF,IAAK,aAAL,CACEN,OAAO,CAACC,GAAR,CAAY,sBAAZ,EACA,sCACKJ,KADL,MAEEK,QAAQ,EAAGJ,MAAM,CAACQ,OAAV,4BAAsBT,KAAK,CAACK,QAA5B,EAFV,GAIF,IAAK,gBAAL,CACEF,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACA,sCACKJ,KADL,MAEEK,QAAQ,CAAEL,KAAK,CAACK,QAAN,CAAeK,GAAf,CAAoB,SAAAH,OAAO,QAAIA,CAAAA,OAAO,CAACC,EAAR,GAAeP,MAAM,CAACU,OAAP,CAAeH,EAA9B,CAAoCD,OAAO,CAAGN,MAAM,CAACU,OAArD,CAAgEJ,OAAO,CAAGA,OAA9E,EAA3B,CAFZ,GAIA,MAEF,QACE,MAvBJ,CAyBD,CA1BD,CA4BA,UAAaK,CAAAA,QAAb,mUACEZ,KADF,CACS,CACLK,QAAQ,CAAE,EADL,CAELQ,QAAQ,CAAE,kBAAAZ,MAAM,QAAI,OAAKa,QAAL,CAAc,SAAAd,KAAK,QAAID,CAAAA,OAAO,CAACC,KAAD,CAAQC,MAAR,CAAX,EAAnB,CAAJ,EAFX,CADT,qUAQ2BL,CAAAA,KAAK,CAACmB,GAAN,CAAU,4CAAV,CAR3B,QAQUC,QARV,eASI,KAAKF,QAAL,CAAc,CAACT,QAAQ,CAAEW,QAAQ,CAACC,IAApB,CAAd,EATJ,+MAaW,CACP,mBACE,oBAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAE,KAAKjB,KAA9B,EACG,KAAKkB,KAAL,CAAWC,QADd,CADF,CAKD,CAnBH,sBAA8BxB,SAA9B,EAsBA,MAAO,IAAMyB,CAAAA,QAAQ,CAAGvB,OAAO,CAACuB,QAAzB","sourcesContent":["import React, { Component } from 'react'\n// import context from 'react-bootstrap/esm/AccordionContext';\nimport axios from \"axios\";\n\n\nconst Context = React.createContext();\n\n\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'DELETE_CONTACT':\n      console.log('delete action is called');\n      return {\n        ...state,\n        contacts: state.contacts.filter(contact => contact.id !== action.PAYLOAD)\n      }\n      break;\n    case 'ADD_CONTACT':\n      console.log('add action is called');\n      return {\n        ...state,\n        contacts: [action.PAYLOAD, ...state.contacts]\n      }\n    case 'UPDATE_CONTACT':\n      console.log('edit action is called');\n      return {\n        ...state,\n        contacts: state.contacts.map( contact => contact.id === action.payload.id ? (contact = action.payload) : contact = contact)\n      }\n      break;\n  \n    default:\n      break;\n  }\n}\n\nexport class Provider extends Component {\n  state ={\n    contacts: [],\n    dispatch: action => this.setState(state => reducer(state, action))\n  };\n\n \n  async componentDidMount(){\n    const response = await axios.get('https://jsonplaceholder.typicode.com/users');\n    this.setState({contacts: response.data});\n  }\n  \n\n  render() {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport const Consumer = Context.Consumer;\n\n\n\n"]},"metadata":{},"sourceType":"module"}