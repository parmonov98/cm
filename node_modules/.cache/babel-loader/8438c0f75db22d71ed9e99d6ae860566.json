{"ast":null,"code":"var _jsxFileName = \"/home/dev/Documents/lessons/react - brad traversy/section7/src/components/contacts/AddContact.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from \"../../context\"; // import {v1 as uuid}  from 'uuid';\n\nimport TextInputGroup from \"../layout/TextInputGroup\";\nimport axios from \"axios\";\n\nclass AddContact extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      email: '',\n      phone: '',\n      errors: {}\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.onSubmit = async (dispatch, e) => {\n      e.preventDefault();\n      console.log(this.state);\n      const {\n        name,\n        email,\n        phone\n      } = this.state;\n\n      if (name === '') {\n        this.setState({\n          errors: {\n            name: 'Name must be yours and required!'\n          }\n        });\n        return;\n      }\n\n      if (email === '') {\n        this.setState({\n          errors: {\n            email: 'Email must valid and required!'\n          }\n        });\n        return;\n      }\n\n      if (phone === '') {\n        this.setState({\n          errors: {\n            phone: 'Phone number would not be extra!'\n          }\n        });\n        return;\n      }\n\n      const newContact = {\n        name,\n        email,\n        phone\n      };\n\n      try {\n        const res = await axios.post(`https://jsonplaceholder.typicode.com/users`, newContact);\n        dispatch({\n          type: 'ADD_CONTACT',\n          PAYLOAD: res.data\n        });\n      } catch (error) {\n        console.log(error);\n      }\n\n      this.setState({\n        name: '',\n        email: '',\n        phone: '',\n        errors: {}\n      });\n      this.props.history.push('/');\n    };\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      phone,\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, value => {\n      const {\n        dispatch\n      } = value;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header h2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }\n      }, \"Add contact form\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card card-body mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit.bind(this, dispatch),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TextInputGroup, {\n        label: \"Name:\",\n        name: \"name\",\n        placeholder: \"Enter name\",\n        onChange: this.onChange,\n        value: name,\n        error: errors.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(TextInputGroup, {\n        label: \"Email:\",\n        name: \"email\",\n        placeholder: \"Enter email\",\n        type: \"email\",\n        onChange: this.onChange,\n        value: email,\n        error: errors.email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(TextInputGroup, {\n        label: \"Phone:\",\n        name: \"phone\",\n        placeholder: \"Enter phone\",\n        type: \"phone\",\n        onChange: this.onChange,\n        value: phone,\n        error: errors.phone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Add Contact\",\n        className: \"btn btn-block btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 19\n        }\n      }))));\n    });\n  }\n\n}\n\nexport default AddContact;","map":{"version":3,"sources":["/home/dev/Documents/lessons/react - brad traversy/section7/src/components/contacts/AddContact.js"],"names":["React","Component","Consumer","TextInputGroup","axios","AddContact","state","name","email","phone","errors","onChange","e","setState","target","value","onSubmit","dispatch","preventDefault","console","log","newContact","res","post","type","PAYLOAD","data","error","props","history","push","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Consumer } from \"../../context\";\n// import {v1 as uuid}  from 'uuid';\nimport TextInputGroup  from \"../layout/TextInputGroup\";\nimport axios from \"axios\";\n\nclass AddContact extends Component {\n  state = {\n    name: '',\n    email: '',\n    phone: '',\n    errors: {}\n  }\n\n\n\n  \n  // onNameChange = (e) => this.setState( {name: e.target.value} );\n  // onEmailChange = (e) => this.setState( {email: e.target.value} );\n  // onPhoneChange = (e) => this.setState( {phone: e.target.value} );\n\n  onChange = e => this.setState(\n    {\n      [e.target.name]: e.target.value\n    }\n  );\n\n\n\n  onSubmit = async (dispatch, e) => {\n    e.preventDefault();\n    console.log(this.state);\n\n    const {name, email, phone} = this.state;\n\n    if (name === '') {\n      this.setState({errors: {name: 'Name must be yours and required!'}});\n      return;\n    }\n    if (email === '') {\n      this.setState({errors: {email: 'Email must valid and required!'}});\n      return;\n    }\n    if (phone === '') {\n      this.setState({errors: {phone: 'Phone number would not be extra!'}});\n      return;\n    }\n\n\n\n    const newContact = {\n      name,\n      email,\n      phone\n    }\n\n    try {\n      const res = await axios.post(`https://jsonplaceholder.typicode.com/users`, newContact);\n      dispatch({type: 'ADD_CONTACT', PAYLOAD: res.data});\n    \n    } catch (error) {\n      console.log(error);\n    }\n    \n\n    this.setState({\n      name: '',\n      email: '',\n      phone: '',\n      errors: {}\n    })\n\n    this.props.history.push('/');\n    \n  }\n\n\n  render() {\n\n\n    const {name, email, phone, errors} = this.state;\n\n\n\n    return (\n      <Consumer>\n        {value => {\n          const { dispatch } = value;\n          return(\n            <div>\n              <div className=\"card-header h2\">\n                Add contact form\n              </div>        \n              <div className=\"card card-body mb-3\">\n                <form onSubmit={this.onSubmit.bind(this, dispatch)}>\n                  <TextInputGroup\n                    label=\"Name:\"\n                    name=\"name\"\n                    placeholder=\"Enter name\"\n                    onChange={this.onChange}\n                    value={name}\n                    error={errors.name}\n                  />\n                  \n                  <TextInputGroup\n                    label=\"Email:\"\n                    name=\"email\"\n                    placeholder=\"Enter email\"\n                    type=\"email\"\n                    onChange={this.onChange}\n                    value={email}\n                    error={errors.email}\n                  />\n                  <TextInputGroup\n                    label=\"Phone:\"\n                    name=\"phone\"\n                    placeholder=\"Enter phone\"\n                    type=\"phone\"\n                    onChange={this.onChange}\n                    value={phone}\n                    error={errors.phone}\n                  />\n                  \n                  <input type=\"submit\" value=\"Add Contact\" className=\"btn btn-block btn-primary\"/>\n                </form>\n              </div>\n            </div>\n          )\n        }}\n      </Consumer>\n    )\n    \n  \n  }\n}\n\nexport default AddContact;"]},"metadata":{},"sourceType":"module"}